/*search chatrooms auto complete
 *  EVENT LISTENER WILL ONLY BE CREATED FOR TEXT BOXES THAT ALREADY EXIST
 *  MUST CREATE EVENT LISTENER FOR TEXT BOXES CREATED AFTER DOCUMENT IS READY
 *  RESEARCH EVENT DELEGATION SO THAT EVENT BEHAVIORS WILL BE EXTENDED TO NEW ELEMENTS WITHOUT HAVING
 *  TO REBIND THEM
$(document).ready(function () {
    $("#txtSearchChatrooms").autocomplete({
        source: function (request, response) {
            $.ajax({
                url: '/ChatroomList/AutoCompleteChatrooms',
                type: 'POST',
                cache: false,
                data: { "prefix": request.term },
                dataType: 'json',
                success: function (data) {
                    response($.map(data, function (item) {
                        return {
                            chatroomId: data.chatroomId,
                            chatroomName: data.chatroomName,
                            data: item
                        }
                    }))
                }
            });
        },
        minLength: 2,
        select: function (event, ui) {
            $.confirm({
                title: 'Join Chatroom',
                content: 'Would you like to join the chatroom \"' + ui.item.chatroomName + '\"\?',
                buttons: {
                    confirm: function () {
                        window.location.href = url.replace('id', ui.item.chatroomId);
                    }
                }
            });
        }
    });
});*/


//Things to do
	message from other users says undefined instead of the username
		also sometimes the message sender and time info is two lines instead of one and is on top of the message itself instead of underneath.
	Footer gets in the way when window size is adjusted
	Chat does not automatically scroll down when new messages come through
	apply custom scroll bar
	automatically display most recent chatroom
	User should not be able to add themselves when creating a new chatroom
	Validation
		check chatroom name
		check if member exists or if it is current user
		autocomplete
			dont show current user
	Anti Forgery Tokens
	Cascade delete
	clear hard coded chatroom values
	move queries to repository class
	new message tag on chatroom list
		add timestamp to appuserChatroom table
	display action menu items when display chatroom is called
	when connection.on receive message is called, only display message if it belongs to active chatroom
		else display it as most recent message on chatroom list item